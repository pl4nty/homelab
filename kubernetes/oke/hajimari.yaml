apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
  name: hajimari
  namespace: default
spec:
  interval: 15m
  chart:
    spec:
      chart: hajimari
      sourceRef:
        kind: HelmRepository
        name: hajimari
        namespace: flux-system
  maxHistory: 3
  install:
    createNamespace: true
    remediation:
      retries: 3
  upgrade:
    cleanupOnFail: true
    remediation:
      retries: 3
  uninstall:
    keepHistory: false
  values:
    defaultPodOptions:
      annotations:
        sidecar.opentelemetry.io/inject: "monitoring-system/opentelemetry-sidecar" # go currently requires sidecar, but it's not enabled automatically
        instrumentation.opentelemetry.io/inject-go: "monitoring-system/opentelemetry-sidecar"
        instrumentation.opentelemetry.io/otel-go-auto-target-exe: "/usr/local/bin/hajimari"
    persistence:
      data:
        enabled: false
    hajimari:
      title: Tom's Lab
      showGreeting: false
      showGlobalBookmarks: true
      alwaysTargetBlank: true
      darkTheme: espresso
      lightTheme: paper
      customApps:
      - group: msft
        apps:
        - name: Azure vnet planner
          url: https://vnetplanner.${PUBLIC_DOMAIN}
        - name: Message Header Analyser
          url: https://mha.${PUBLIC_DOMAIN}
        - name: Msft Store package tools
          url: https://msft-store.${PUBLIC_DOMAIN}
        - name: Msft JWT decoder
          url: https://jwtms.${PUBLIC_DOMAIN}
        - name: WUfB deployment service
          url: https://wufb-ds.${PUBLIC_DOMAIN}
      - group: tools
        apps:
        - name: Certificate transparency search
          url: https://crt.${PUBLIC_DOMAIN}
        - name: Network looking glass
          url: https://lg.${PUBLIC_DOMAIN}
        - name: CyberChef
          url: https://cyberchef.${PUBLIC_DOMAIN}
        - name: JWT decoder
          url: https://jwt.${PUBLIC_DOMAIN}
        - name: Misc IT tools
          url: https://tools.${PUBLIC_DOMAIN}
        - name: File converter
          url: https://convert.${PUBLIC_DOMAIN}
        - name: OpenSSL web terminal
          url: https://openssl.${PUBLIC_DOMAIN}
        - name: PDF editor
          url: https://pdf.${PUBLIC_DOMAIN}
        - name: ANU degree planner
          url: https://degree-planner.${PUBLIC_DOMAIN}
        - name: Shape drawing canvas
          url: https://shapes.${PUBLIC_DOMAIN}
        - name: Spotify analytics
          url: https://spotify.${PUBLIC_DOMAIN}
      - group: games
        apps:
        - name: CS:GO
          url: steam://connect/play.${PUBLIC_DOMAIN}:27015
        - name: Factorio
          url: play.${PUBLIC_DOMAIN}:31497
        - name: Ataxx boardgame
          url: https://ataxx.${PUBLIC_DOMAIN}
        - name: Temple Trap boardgame
          url: https://temple-trap.${PUBLIC_DOMAIN}
        - name: Tsuro boardgame
          url: https://tsuro.${PUBLIC_DOMAIN}
        - name: LEEKSPIN
          url: https://leekspin.${PUBLIC_DOMAIN}
      globalBookmarks:
      - group: dependencies
        bookmarks:
        - name: github
          url: https://www.githubstatus.com
          icon: simple-icons:github
        - name: renovate
          url: https://status.mend.io
          icon: simple-icons:renovatebot
        - name: backblaze
          url: https://status.backblaze.com
          icon: simple-icons:backblaze
        - name: grafana
          url: https://status.grafana.com
          icon: simple-icons:grafana
        - name: bunny.net
          url: https://status.bunny.net
          icon: logos:bunny-net-icon
        - name: cloudflare
          url: https://www.cloudflarestatus.com
          icon: simple-icons:cloudflare
        - name: aussiebb
          url: https://www.aussiebroadband.com.au/help-centre/system-outages
          icon: https://www.aussiebroadband.com.au/assets/favicons/android-icon-192x192.png
        - name: azure
          url: https://azure.status.microsoft
          icon: simple-icons:microsoftazure
        - name: oracle cloud
          url: https://ocistatus.oraclecloud.com
          icon: simple-icons:oracle
        - name: ventraip
          url: https://status.ventraip.com.au
          icon: https://ventraip.com.au/wp-content/uploads/2020/08/logo-ventraip-australia.png
      - group: utils
        bookmarks:
        - name: k8s-at-home search
          url: https://nanne.dev/k8s-at-home-search
        - name: visualise CRDs
          url: https://doc.crds.dev
        - name: msportals
          url: https://msportals.io
